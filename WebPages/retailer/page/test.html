<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <meta charset="utf-8" />
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../../js/jquery/jquery.qrcode.min.js"></script>
    <script>
        $(document).ready(function () {

            $('#output').qrcode({
                text: "这是修改了官文的js文件，此时生成的二维码支持中文和LOGO",
                render: 'canvas',
                height: 200,
                width: 200,
                typeNumber: -1,      //计算模式
                correctLevel: QRErrorCorrectLevel.H,//纠错等级
                src: '/retailer/image/2.jpg'//这里配置Logo的地址即可。
            });
         
            //setTimeout(function () {
            //    var canvas = document.getElementById('canvasqrcode');
            //    $('#img_test').html(convertCanvasToImage(canvas))

            //    $("#img").attr("src", canvas.toDataURL("image/png"))
            //},100)
        });

        function convertCanvasToImage(canvas) {
            var image = new Image();
            image.src = canvas.toDataURL("image/png");
            return image;
        }
    </script>
</head>
<body>
    <div id="output"></div>
    <div id="img_test"></div>
    <img id="img" />
</body>
</html>
